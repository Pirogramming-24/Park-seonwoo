{% extends 'base.html' %}

{% block content %}
<h2>유저 검색</h2>
<form method="get">
    <input type="text" name="q" placeholder="아이디 또는 이름 검색" value="{{ query }}">
    <button type="submit">검색</button>
</form>

{% if query %}
    <h3>검색 결과</h3>
    {% for user in users %}
    <div style="border: 1px solid #dbdbdb; padding: 10px; margin: 10px 0; background: white;">
        <a href="{% url 'users:profile' user.username %}">
            {% if user.profile_image %}
            <img src="{{ user.profile_image.url }}" style="width: 50px; height: 50px; border-radius: 50%;">
            {% endif %}
            <strong>{{ user.username }}</strong>
        </a>
        <p>{{ user.first_name }} {{ user.last_name }}</p>
    </div>
    {% empty %}
    <p>검색 결과가 없습니다.</p>
    {% endfor %}
{% endif %}
{% endblock %}