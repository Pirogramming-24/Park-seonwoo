{% extends 'base.html' %}
{% load static %}

{% block head %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />
<style>
    main {
        padding: 40px;
        height: 100%;
    }

    img {
        margin: 20px 0;
    }
</style>
{% endblock%}
{% block content %}
<h1 style="color: green; font-size: 40px">{{post.title}}</h1>

{% if post.photo %}
    <img src="{{post.photo.url}}" alt="ì œí’ˆ ì´ë¯¸ì§€" />
{% else %}
    <img src="{% static 'posts/image/no-image.jpg' %}" alt="ëŒ€ì²´ í…ìŠ¤íŠ¸" />
{% endif %}

<p>ì‘ì„±ì: {{post.user.name}}</p>
<p>ì§€ì—­: {{post.region}}</p>
<p>ê°€ê²©: {{post.price}}</p>

<h2 class="my-3">{{post.content}}</h2>

{% if post.nutrition %}
<div class="card border-success mb-3" style="max-width: 400px;">
    <div class="card-header bg-success text-white">ğŸ AI ì˜ì–‘ ì„±ë¶„ ë¶„ì„</div>
    <div class="card-body">
        <p class="card-text mb-1"><strong>ì¹¼ë¡œë¦¬:</strong> {{ post.nutrition.calories_kcal }} kcal</p>
        <p class="card-text mb-1"><strong>íƒ„ìˆ˜í™”ë¬¼:</strong> {{ post.nutrition.carbs_g }}g</p>
        <p class="card-text mb-1"><strong>ë‹¨ë°±ì§ˆ:</strong> {{ post.nutrition.protein_g }}g</p>
        <p class="card-text mb-1"><strong>ì§€ë°©:</strong> {{ post.nutrition.fat_g }}g</p>
    </div>
</div>
{% endif %}
<p>ì‘ì„±ì¼: {{post.created_at}}</p>
<p>ìˆ˜ì •ì¼: {{post.updated_at}}</p>

<hr />
<a href="{% url 'posts:update' post.pk %}" class="btn btn-primary">ìˆ˜ì •í•˜ê¸°</a>
<a href="{% url 'posts:delete' post.pk %}" class="btn btn-danger">ì‚­ì œí•˜ê¸°</a>
<a href="/" class="btn btn-secondary">ëª©ë¡ìœ¼ë¡œ</a>
{% endblock content %}