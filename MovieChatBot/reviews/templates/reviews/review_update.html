{% extends 'base.html' %}

{% block title %}ë¦¬ë·° ìˆ˜ì • - {{ review.title }}{% endblock %}

{% block content %}
<div class="form-container">
    <h2 class="form-title">âœï¸ ë¦¬ë·° ìˆ˜ì •í•˜ê¸°</h2>
    
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="title">ì˜í™” ì œëª© *</label>
            <input type="text" id="title" name="title" required 
                   value="{{ review.title }}" autofocus>
        </div>
        
        <div class="form-group">
            <label for="director">ê°ë…</label>
            <input type="text" id="director" name="director" 
                   value="{{ review.director }}">
        </div>

        <div class="form-group">
            <label for="main_actor">ì£¼ì—° ë°°ìš° *</label>
            <input type="text" id="main_actor" name="main_actor" required 
                   value="{{ review.main_actor }}">
        </div>
        
        <div class="form-group">
            <label for="genre">ì¥ë¥´ *</label>
            <select id="genre" name="genre" required>
                <option value="action" {% if review.genre == 'action' %}selected{% endif %}>ì•¡ì…˜</option>
                <option value="romance" {% if review.genre == 'romance' %}selected{% endif %}>ë¡œë§¨ìŠ¤</option>
                <option value="comedy" {% if review.genre == 'comedy' %}selected{% endif %}>ì½”ë¯¸ë””</option>
                <option value="sf" {% if review.genre == 'sf' %}selected{% endif %}>SF</option>
                <option value="horror" {% if review.genre == 'horror' %}selected{% endif %}>ê³µí¬</option>
            </select>
        </div>

        <div class="form-group">
            <label for="year">ê°œë´‰ ì—°ë„</label>
            <input type="number" id="year" name="release_year" min="1900" max="2030" 
                   value="{{ review.release_year }}">
        </div>

        <div class="form-group">
            <label for="runtime">ëŸ¬ë‹íƒ€ì„ (ë¶„) *</label>
            <input type="number" id="runtime" name="runtime" required 
                   value="{{ review.runtime }}">
        </div>
        
        <div class="form-group">
            <label for="rating">í‰ì  (1-10)</label>
            <input type="number" id="rating" name="rating" min="1" max="10" step="0.1" 
                   value="{{ review.rating }}">
            <small style="color: #888; font-size: 13px; margin-top: 5px; display: block;">
                1ì (ìµœì €) ~ 10ì (ìµœê³ ) ì‚¬ì´ì˜ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”
            </small>
        </div>
        
        <div class="form-group">
            <label for="content">ë¦¬ë·° ë‚´ìš© *</label>
            <textarea id="content" name="content" rows="10" required>{{ review.content }}</textarea>
        </div>

        <div class="form-group">
            <label for="image">í¬ìŠ¤í„° ì´ë¯¸ì§€ (ì„ íƒ)</label>
            
            {% if review.image %}
                <div style="margin-bottom: 15px; background: #1e1e1e; padding: 10px; border-radius: 8px;">
                    <p style="color:#aaa; font-size:14px; margin-bottom:5px;">í˜„ì¬ ë“±ë¡ëœ ì´ë¯¸ì§€:</p>
                    <img src="/media/{{ review.image }}" alt="í˜„ì¬ í¬ìŠ¤í„°" 
                         style="max-width: 150px; border-radius: 5px;">
                </div>
            {% endif %}

            <input 
                type="file" 
                id="image" 
                name="image"
                accept="image/*"
                style="padding: 10px; background: #121212; border: 2px dashed #333; border-radius: 8px; cursor: pointer;"
            >
            <small style="color: #888; font-size: 13px; margin-top: 5px; display: block;">
                ìƒˆ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´ ê¸°ì¡´ ì´ë¯¸ì§€ëŠ” êµì²´ë©ë‹ˆë‹¤.
            </small>
        </div>
        
        <div class="button-group" style="margin-top: 30px;">
            <button type="submit" class="btn btn-primary">
                ğŸ’¾ ìˆ˜ì • ì™„ë£Œ
            </button>
            <a href="{% url 'reviews:review_detail' review.pk %}" class="btn btn-secondary" style="display:block; text-align:center; margin-top:10px; color:#888;">
                âŒ ì·¨ì†Œí•˜ê³  ëŒì•„ê°€ê¸°
            </a>
        </div>
    </form>
</div>

<style>
    input, textarea, select {
        width: 100%;
        padding: 12px;
        background: #1e1e1e;
        border: 1px solid #333;
        color: white;
        border-radius: 8px;
        font-size: 16px;
        box-sizing: border-box;
        font-family: inherit;
        margin-top: 5px;
    }

    input:focus, textarea:focus, select:focus {
        outline: none;
        border-color: #00E054;
        box-shadow: 0 0 0 3px rgba(0, 224, 84, 0.1);
    }
    
    input[type="file"]:hover {
        border-color: #00E054 !important;
    }

    label {
        color: #00E054;
        font-weight: bold;
        display: block;
        margin-top: 20px;
    }

    .btn-primary {
        background: #00E054;
        color: black;
        border: none;
        padding: 15px;
        width: 100%;
        font-weight: bold;
        font-size: 16px;
        cursor: pointer;
        border-radius: 8px;
        transition: 0.3s;
    }
    .btn-primary:hover { background: #00c040; }

    small { display: block; line-height: 1.4; }

    .form-container {
        max-width: 600px;
        margin: 0 auto;
        padding-bottom: 50px;
        animation: fadeInUp 0.5s ease;
    }

    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .form-title {
        text-align: center;
        margin-bottom: 30px;
        font-size: 28px;
    }
</style>
{% endblock %}