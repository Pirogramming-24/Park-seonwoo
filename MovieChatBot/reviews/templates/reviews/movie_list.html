<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì˜í™” ê²€ìƒ‰ ë° ëª©ë¡</title>
    <style>
        /* ê°„ë‹¨í•œ ì¹´ë“œ ë ˆì´ì•„ì›ƒ ìŠ¤íƒ€ì¼ (ê¸°ëŠ¥ 5 ë§›ë³´ê¸°) */
        .movie-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; padding: 20px; }
        .movie-card { border: 1px solid #ddd; border-radius: 8px; overflow: hidden; text-align: center; padding-bottom: 10px; }
        .movie-card img { width: 100%; height: auto; }
    </style>
</head>
<body>

    <h1>ğŸ¬ TMDB ì¸ê¸° ì˜í™” ëª©ë¡</h1>

    <section>
        <form method="GET" action="{% url 'reviews:movie_list' %}">
            <input type="text" name="q" placeholder="ì˜í™” ì œëª© ê²€ìƒ‰..." value="{{ query }}">
            
            <select name="sort" onchange="this.form.submit()">
                <option value="latest" {% if sort == 'latest' %}selected{% endif %}>ìµœì‹ ìˆœ</option>
                <option value="rating" {% if sort == 'rating' %}selected{% endif %}>í‰ì ìˆœ</option>
            </select>
            
            <button type="submit">ê²€ìƒ‰</button>
            <a href="{% url 'reviews:movie_list' %}">ì´ˆê¸°í™”</a>
        </form>
    </section>

    <hr>

    <div class="movie-grid">
        {% for movie in movies %}
            <div class="movie-card">
                {% if movie.poster_path %}
                    <img src="{{ movie.poster_path }}" alt="{{ movie.title }}">
                {% else %}
                    <div style="height:300px; background:#eee; line-height:300px;">ì´ë¯¸ì§€ ì—†ìŒ</div>
                {% endif %}
                <h3>{{ movie.title }}</h3>
                <p>â­ {{ movie.vote_average }}</p>
                <p>{{ movie.release_date }}</p>
            </div>
        {% empty %}
            <p>í•´ë‹¹í•˜ëŠ” ì˜í™”ê°€ ì—†ìŠµë‹ˆë‹¤. ğŸ˜¢</p>
        {% endfor %}
    </div>

</body>
</html>